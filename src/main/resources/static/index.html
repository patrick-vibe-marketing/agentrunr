<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentRunr</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="app">
        <nav class="sidebar">
            <div class="logo">
                <h1>ü§ñ AgentRunr</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-view="chat">üí¨ Chat</a></li>
                <li><a href="#" class="nav-link" data-view="settings">‚öôÔ∏è Settings</a></li>
                <li><a href="/dashboard" class="nav-link" target="_blank">üìä JobRunr Dashboard</a></li>
            </ul>
            <div class="sidebar-footer">
                <div class="status-indicator">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="statusText">Connecting...</span>
                </div>
            </div>
        </nav>

        <main class="content">
            <!-- Chat View -->
            <div id="chatView" class="view active">
                <div class="chat-header">
                    <h2 id="agentName">Assistant</h2>
                    <div class="model-badge" id="modelBadge">gpt-4o</div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message system">
                        <div class="message-content">
                            Welcome! Type a message to start chatting with the agent.
                        </div>
                    </div>
                </div>
                <div class="chat-input-area">
                    <div class="input-row">
                        <select id="modelSelect" class="model-select">
                            <optgroup label="OpenAI">
                                <option value="gpt-4o" selected>GPT-4o</option>
                                <option value="gpt-4o-mini">GPT-4o Mini</option>
                                <option value="o3-mini">o3-mini</option>
                            </optgroup>
                            <optgroup label="Anthropic">
                                <option value="anthropic:claude-sonnet-4-20250514">Claude Sonnet</option>
                                <option value="anthropic:claude-opus-4-20250514">Claude Opus</option>
                            </optgroup>
                            <optgroup label="Ollama (Local)">
                                <option value="ollama:llama3.2">Llama 3.2</option>
                                <option value="ollama:mistral">Mistral</option>
                                <option value="ollama:deepseek-r1">DeepSeek R1</option>
                                <option value="ollama:qwen2.5">Qwen 2.5</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="input-row">
                        <textarea id="chatInput" placeholder="Type your message..." rows="1"></textarea>
                        <label class="stream-toggle" title="Enable streaming responses">
                            <input type="checkbox" id="streamToggle" checked> Stream
                        </label>
                        <button id="sendBtn" class="send-btn">Send</button>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settingsView" class="view">
                <div class="settings-header">
                    <h2>‚öôÔ∏è Settings</h2>
                </div>
                <div class="settings-content">
                    <div class="settings-section">
                        <h3>Agent Configuration</h3>
                        <div class="setting-group">
                            <label for="settingAgentName">Agent Name</label>
                            <input type="text" id="settingAgentName" value="Assistant">
                        </div>
                        <div class="setting-group">
                            <label for="settingModel">Default Model</label>
                            <select id="settingModel">
                                <optgroup label="OpenAI">
                                    <option value="gpt-4o">GPT-4o</option>
                                    <option value="gpt-4o-mini">GPT-4o Mini</option>
                                    <option value="o3-mini">o3-mini</option>
                                </optgroup>
                                <optgroup label="Anthropic">
                                    <option value="anthropic:claude-sonnet-4-20250514">Claude Sonnet</option>
                                    <option value="anthropic:claude-opus-4-20250514">Claude Opus</option>
                                </optgroup>
                                <optgroup label="Ollama">
                                    <option value="ollama:llama3.2">Llama 3.2</option>
                                    <option value="ollama:mistral">Mistral</option>
                                    <option value="ollama:deepseek-r1">DeepSeek R1</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label for="settingInstructions">System Instructions</label>
                            <textarea id="settingInstructions" rows="5">You are a helpful AI assistant powered by AgentRunr. You can use tools to help users accomplish tasks. Be concise and helpful.</textarea>
                        </div>
                        <div class="setting-group">
                            <label for="settingMaxTurns">Max Turns</label>
                            <input type="number" id="settingMaxTurns" value="10" min="1" max="50">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Provider Status</h3>
                        <div id="providerStatus" class="provider-grid">
                            <div class="provider-card" id="providerOpenai">
                                <div class="provider-icon">üü¢</div>
                                <div class="provider-name">OpenAI</div>
                                <div class="provider-status">Checking...</div>
                            </div>
                            <div class="provider-card" id="providerOllama">
                                <div class="provider-icon">‚ö™</div>
                                <div class="provider-name">Ollama</div>
                                <div class="provider-status">Checking...</div>
                            </div>
                            <div class="provider-card" id="providerAnthropic">
                                <div class="provider-icon">‚ö™</div>
                                <div class="provider-name">Anthropic</div>
                                <div class="provider-status">Checking...</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Memory</h3>
                        <div id="sessionList" class="session-list">
                            <p class="muted">Loading sessions...</p>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
                        <button id="clearChatBtn" class="btn-secondary">Clear Chat History</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
